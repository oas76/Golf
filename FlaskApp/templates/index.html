<!DOCTYPE html>
<html lang="en">
  <head>
    <title>Raymon Randomizer</title>

    <link href="http://getbootstrap.com/dist/css/bootstrap.min.css" rel="stylesheet">

    <link href="http://getbootstrap.com/examples/jumbotron-narrow/jumbotron-narrow.css" rel="stylesheet">
    <link href="../static/setup.css" rel="stylesheet">

    <script>
    function loadXMLDoc()
    {
        var req = new XMLHttpRequest();
        req.onreadystatechange = function()
        {
            if (req.readyState == 4)
            {
                if (req.status != 200)
                {
                    //error handling code here
                }
                else
                {
                    var response = JSON.parse(req.responseText);
                    html = '<p id=result>';
                    for ( index = 0; index < response.tournament.length; index++)
                    {
                        html = html + (index+1).toString() +  ': ' + JSON.stringify(response.tournament[index].players) + ' HC: ' + JSON.stringify(response.tournament[index].hc) + '<br>';
                    }
                    html = html + '</p>';
                    document.getElementById('myDiv').innerHTML = html
                }
            }
        }

        req.open('POST', '/randomize')
        req.setRequestHeader("Content-type", "application/x-www-form-urlencoded")
        var teamsize = document.getElementById('teamsize').value
        var postVars = 'teamsize='+teamsize
        req.send(postVars)

        return false
    }
    </script>

  </head>

  <body>

    <div class="container">
      <div>
          <p></p>
          <p></p>
      </div>

      <div class="jumbotron">
        <h1 align="center">Randomizer App</h1>
        <form class="form-signin" action="" method="POST">
        <label for="teamsize" class="sr-only">Team Size</label>
        <input type="number" name="teamsize" id="teamsize" class="form-control" placeholder="Team Size" required autofocus>
        <button id="btnSignUp" class="btn btn-lg btn-primary btn-block" type="button" onclick="return loadXMLDoc()">Randomize</button>
        </form>
      </div>

      <div class="jumbotron" id="myDiv"></div>



      <footer class="footer">
        <p>&copy; Raymon Tour Inc. 2015</p>
      </footer>

    </div>
  </body>
